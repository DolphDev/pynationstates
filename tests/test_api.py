import unittest
import nationstates as ns



# No requests are made for this, this just silences the ua warning
ua = "placeholder"


# These Tests make sure that Nationstates obj keeps concurrent all object values

class nationstates_api_object(unittest.TestCase):
    def test_api_user_agent(self):
        api = ns.Nationstates(ua)
        self.assertEqual(api.user_agent, ua)
        api.user_agent = "New user_agent"
        self.assertEqual(api.user_agent, "New user_agent")

# Checks Github issue
# https://github.com/DolphDev/pynationstates/issues/17

class nationstates_parsing_checks(unittest.TestCase):
    def test_api_user_agent(self):
        from nationstates.objects import response_parser
        data = {'xml': '<NATION id="sansui">\n<ISSUE id="955" choice="2">\n<OK>1</OK>\n<DESC>adverts proclaim it has to be healthy if the Mornay uses hand-grated Gallopavian Gruy&egrave;re</DESC>\n<RANKINGS>\n<RANK id="1">\n<SCORE>33.11</SCORE>\n<CHANGE>-0.45</CHANGE>\n<PCHANGE>-1.340882</PCHANGE>\n</RANK>\n<RANK id="4">\n<SCORE>2.05</SCORE>\n<CHANGE>-0.04</CHANGE>\n<PCHANGE>-1.913876</PCHANGE>\n</RANK>\n<RANK id="5">\n<SCORE>27.88</SCORE>\n<CHANGE>-0.03</CHANGE>\n<PCHANGE>-0.107488</PCHANGE>\n</RANK>\n<RANK id="7">\n<SCORE>658.63</SCORE>\n<CHANGE>-25.86</CHANGE>\n<PCHANGE>-3.777995</PCHANGE>\n</RANK>\n<RANK id="11">\n<SCORE>553.25</SCORE>\n<CHANGE>388.97</CHANGE>\n<PCHANGE>236.772583</PCHANGE>\n</RANK>\n<RANK id="12">\n<SCORE>1027.46</SCORE>\n<CHANGE>-40.35</CHANGE>\n<PCHANGE>-3.778762</PCHANGE>\n</RANK>\n<RANK id="14">\n<SCORE>1244.81</SCORE>\n<CHANGE>190.69</CHANGE>\n<PCHANGE>18.089971</PCHANGE>\n</RANK>\n<RANK id="16">\n<SCORE>1244.81</SCORE>\n<CHANGE>-48.88</CHANGE>\n<PCHANGE>-3.778339</PCHANGE>\n</RANK>\n<RANK id="17">\n<SCORE>-7.04</SCORE>\n<CHANGE>0.51</CHANGE>\n<PCHANGE>6.754967</PCHANGE>\n</RANK>\n<RANK id="22">\n<SCORE>2766.24</SCORE>\n<CHANGE>-108.62</CHANGE>\n<PCHANGE>-3.778271</PCHANGE>\n</RANK>\n<RANK id="23">\n<SCORE>1448.98</SCORE>\n<CHANGE>-56.90</CHANGE>\n<PCHANGE>-3.778522</PCHANGE>\n</RANK>\n<RANK id="24">\n<SCORE>1712.43</SCORE>\n<CHANGE>-67.25</CHANGE>\n<PCHANGE>-3.778769</PCHANGE>\n</RANK>\n<RANK id="25">\n<SCORE>1819.08</SCORE>\n<CHANGE>-98.81</CHANGE>\n<PCHANGE>-5.152016</PCHANGE>\n</RANK>\n<RANK id="26">\n<SCORE>2272.27</SCORE>\n<CHANGE>-89.23</CHANGE>\n<PCHANGE>-3.778531</PCHANGE>\n</RANK>\n<RANK id="28">\n<SCORE>2222.87</SCORE>\n<CHANGE>-87.29</CHANGE>\n<PCHANGE>-3.778526</PCHANGE>\n</RANK>\n<RANK id="29">\n<SCORE>1811.23</SCORE>\n<CHANGE>-71.12</CHANGE>\n<PCHANGE>-3.778256</PCHANGE>\n</RANK>\n<RANK id="30">\n<SCORE>493.97</SCORE>\n<CHANGE>-19.40</CHANGE>\n<PCHANGE>-3.778951</PCHANGE>\n</RANK>\n<RANK id="31">\n<SCORE>329.31</SCORE>\n<CHANGE>-12.94</CHANGE>\n<PCHANGE>-3.780862</PCHANGE>\n</RANK>\n<RANK id="33">\n<SCORE>48.71</SCORE>\n<CHANGE>0.88</CHANGE>\n<PCHANGE>1.839849</PCHANGE>\n</RANK>\n<RANK id="35">\n<SCORE>62.34</SCORE>\n<CHANGE>-0.32</CHANGE>\n<PCHANGE>-0.510693</PCHANGE>\n</RANK>\n<RANK id="39">\n<SCORE>4.74</SCORE>\n<CHANGE>0.26</CHANGE>\n<PCHANGE>5.803571</PCHANGE>\n</RANK>\n<RANK id="41">\n<SCORE>132.00</SCORE>\n<CHANGE>1.00</CHANGE>\n<PCHANGE>0.763359</PCHANGE>\n</RANK>\n<RANK id="42">\n<SCORE>61.21</SCORE>\n<CHANGE>0.06</CHANGE>\n<PCHANGE>0.098119</PCHANGE>\n</RANK>\n<RANK id="43">\n<SCORE>90.11</SCORE>\n<CHANGE>0.46</CHANGE>\n<PCHANGE>0.513107</PCHANGE>\n</RANK>\n<RANK id="44">\n<SCORE>76.61</SCORE>\n<CHANGE>0.07</CHANGE>\n<PCHANGE>0.091455</PCHANGE>\n</RANK>\n<RANK id="45">\n<SCORE>19.66</SCORE>\n<CHANGE>0.11</CHANGE>\n<PCHANGE>0.562660</PCHANGE>\n</RANK>\n<RANK id="46">\n<SCORE>658.63</SCORE>\n<CHANGE>-25.86</CHANGE>\n<PCHANGE>-3.777995</PCHANGE>\n</RANK>\n<RANK id="47">\n<SCORE>91.39</SCORE>\n<CHANGE>0.12</CHANGE>\n<PCHANGE>0.131478</PCHANGE>\n</RANK>\n<RANK id="48">\n<SCORE>-68.17</SCORE>\n<CHANGE>-0.34</CHANGE>\n<PCHANGE>-0.501253</PCHANGE>\n</RANK>\n<RANK id="49">\n<SCORE>40.98</SCORE>\n<CHANGE>-0.55</CHANGE>\n<PCHANGE>-1.324344</PCHANGE>\n</RANK>\n<RANK id="50">\n<SCORE>53.67</SCORE>\n<CHANGE>0.21</CHANGE>\n<PCHANGE>0.392817</PCHANGE>\n</RANK>\n<RANK id="53">\n<SCORE>450.48</SCORE>\n<CHANGE>2.32</CHANGE>\n<PCHANGE>0.517672</PCHANGE>\n</RANK>\n<RANK id="56">\n<SCORE>78.04</SCORE>\n<CHANGE>-0.05</CHANGE>\n<PCHANGE>-0.064029</PCHANGE>\n</RANK>\n<RANK id="57">\n<SCORE>576.30</SCORE>\n<CHANGE>-22.63</CHANGE>\n<PCHANGE>-3.778405</PCHANGE>\n</RANK>\n<RANK id="58">\n<SCORE>1102.48</SCORE>\n<CHANGE>0.30</CHANGE>\n<PCHANGE>0.027219</PCHANGE>\n</RANK>\n<RANK id="61">\n<SCORE>8.53</SCORE>\n<CHANGE>-0.03</CHANGE>\n<PCHANGE>-0.350467</PCHANGE>\n</RANK>\n<RANK id="67">\n<SCORE>35.34</SCORE>\n<CHANGE>-0.11</CHANGE>\n<PCHANGE>-0.310296</PCHANGE>\n</RANK>\n<RANK id="68">\n<SCORE>52.73</SCORE>\n<CHANGE>-0.20</CHANGE>\n<PCHANGE>-0.377858</PCHANGE>\n</RANK>\n<RANK id="72">\n<SCORE>32455.18</SCORE>\n<CHANGE>-651.56</CHANGE>\n<PCHANGE>-1.968058</PCHANGE>\n</RANK>\n<RANK id="73">\n<SCORE>22148.10</SCORE>\n<CHANGE>-225.03</CHANGE>\n<PCHANGE>-1.005805</PCHANGE>\n</RANK>\n<RANK id="74">\n<SCORE>45471.00</SCORE>\n<CHANGE>-1305.00</CHANGE>\n<PCHANGE>-2.789892</PCHANGE>\n</RANK>\n<RANK id="75">\n<SCORE>2140.54</SCORE>\n<CHANGE>-84.06</CHANGE>\n<PCHANGE>-3.778657</PCHANGE>\n</RANK>\n<RANK id="76">\n<SCORE>389000000000.00</SCORE>\n<CHANGE>-8000000000.00</CHANGE>\n<PCHANGE>-2.015113</PCHANGE>\n</RANK>\n<RANK id="77">\n<SCORE>3.33</SCORE>\n<CHANGE>-0.03</CHANGE>\n<PCHANGE>-0.892857</PCHANGE>\n</RANK>\n<RANK id="78">\n<SCORE>740.96</SCORE>\n<CHANGE>-29.09</CHANGE>\n<PCHANGE>-3.777677</PCHANGE>\n</RANK>\n<RANK id="85">\n<SCORE>19148.56</SCORE>\n<CHANGE>-218.88</CHANGE>\n<PCHANGE>-1.130144</PCHANGE>\n</RANK>\n</RANKINGS>\n<HEADLINES>\n<HEADLINE>Closure Of Outreach Program Leaves Some In Limbo</HEADLINE>\n<HEADLINE>Modern Generation Lacks Patience, Artisan Basket Weavers Say</HEADLINE>\n<HEADLINE>Foreign Aid Mostly Just Wasted, Official Says</HEADLINE>\n<HEADLINE>Banana Sales Curve Upward</HEADLINE>\n</HEADLINES>\n</ISSUE>\n</NATION>\n'}
        assert isinstance(response_parser(data, False), dict)
  